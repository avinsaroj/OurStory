"use strict";(self.webpackChunkLoveStory=self.webpackChunkLoveStory||[]).push([[540],{3540:(O,v,n)=>{n.r(v),n.d(v,{BlogModule:()=>D});var u=n(6895),d=n(668),e=n(8256),m=n(85),g=n(2557),h=n(139);const _=function(i){return["BlogSinglePage",i]};function A(i,l){if(1&i&&(e.TgZ(0,"div",6)(1,"div",7)(2,"div",8),e._UZ(3,"img",9),e.qZA(),e.TgZ(4,"h2",10),e._uU(5),e.qZA(),e.TgZ(6,"p",10),e._uU(7),e.qZA(),e.TgZ(8,"a",11),e._uU(9,"Read More >"),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.s9C("src",t.summary,e.LSH),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.metaTitle),e.xp6(1),e.Q6J("routerLink",e.VKq(4,_,t.id))}}let U=(()=>{class i{constructor(t,o,s,a){this.LoveStory=t,this.AuthService=o,this.router=s,this.utilityService=a,this.AllPost=[]}ngOnInit(){this.AuthService.isAuthenticated()&&(this.userRole=this.AuthService.role,null!=this.userRole&&(this.GetUserDetails(),this.username=this.AuthService.name,this.GetUserDetail(this.username),this.Role=this.AuthService.role)),this.LoveStory.GetAllPost().subscribe(t=>{this.AllPost=t.data})}GetUserDetails(){this.AuthService.userDetailFromToken()}GetUserDetail(t){this.AuthService.GetUserDetails(t).subscribe(o=>{this.Userdetails=o.data})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.x),e.Y36(g.e),e.Y36(d.F0),e.Y36(h.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-blog"]],decls:11,vars:1,consts:[["id","events",1,"events-box"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"title-box"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-12"],[1,"event-inner"],[1,"event-img"],["alt","",1,"img-fluid",2,"width","100%","height","168px",3,"src"],[1,"OverFlowchar"],[3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),e._uU(6,"Blog"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. "),e.qZA()()()(),e.TgZ(9,"div",2),e.YNc(10,A,10,6,"div",5),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",o.AllPost))},dependencies:[u.sg,d.rH]}),i})();var r=n(433);class k{}function T(i,l){if(1&i&&(e.TgZ(0,"div",39),e._UZ(1,"i",15),e.TgZ(2,"div",40)(3,"h6")(4,"a",41),e._uU(5),e.qZA(),e.TgZ(6,"small")(7,"i"),e._uU(8),e.ALo(9,"date"),e.qZA()()(),e.TgZ(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"button",42),e._uU(13,"Reply"),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(5),e.Oqu(t.createdBy),e.xp6(3),e.Oqu(e.xi3(9,3,t.createdOn,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.content)}}const p=function(i){return["/Blog/BlogSinglePage",i]};function y(i,l){if(1&i&&(e.TgZ(0,"div",43)(1,"div",44)(2,"div",45)(3,"a",46),e._uU(4,"Blog"),e.qZA(),e.TgZ(5,"a",47)(6,"small"),e._uU(7),e.ALo(8,"date"),e.qZA()()(),e.TgZ(9,"a",48),e._uU(10),e.qZA()()()),2&i){const t=l.$implicit;e.xp6(3),e.Q6J("routerLink",e.VKq(8,p,t.id)),e.xp6(2),e.Q6J("routerLink",e.VKq(10,p,t.id)),e.xp6(2),e.Oqu(e.xi3(8,5,t.createdOn,"dd/MM/yyyy")),e.xp6(2),e.Q6J("routerLink",e.VKq(12,p,t.id)),e.xp6(1),e.Oqu(t.title)}}const f=function(i){return{color:i}};function C(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"a",8),e._uU(8,"Blog"),e.qZA(),e.TgZ(9,"a",9),e._uU(10),e.ALo(11,"date"),e.qZA()(),e._UZ(12,"img",10),e.TgZ(13,"h1",11),e._uU(14),e.qZA(),e._UZ(15,"div",12),e.qZA(),e.TgZ(16,"div",13)(17,"div",14),e._UZ(18,"i",15),e.TgZ(19,"span"),e._uU(20),e.qZA()(),e.TgZ(21,"div",14)(22,"span",16)(23,"a",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.LikeButtonClick())}),e._UZ(24,"i",18),e.qZA(),e._uU(25),e.qZA(),e.TgZ(26,"span",16)(27,"a",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.DisLikeButtonClick())}),e._UZ(28,"i",19),e.qZA(),e._uU(29),e.qZA()()()(),e.TgZ(30,"div",7)(31,"div",20)(32,"h4",21),e._uU(33),e.qZA()(),e.TgZ(34,"div",6),e.YNc(35,T,14,6,"div",22),e.qZA()(),e.TgZ(36,"div",7)(37,"div",20)(38,"h4",21),e._uU(39,"Leave a comment"),e.qZA()(),e.TgZ(40,"div",6)(41,"form",23)(42,"div",24)(43,"label",25),e._uU(44,"Message *"),e.qZA(),e._UZ(45,"textarea",26),e.qZA(),e.TgZ(46,"div",27)(47,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.CommentButtonClick())}),e._uU(48,"Leave a comment"),e.qZA()()()()()(),e.TgZ(49,"div",29)(50,"div",7)(51,"div",20)(52,"h4",21),e._uU(53,"Tranding Blog"),e.qZA()(),e.TgZ(54,"div",30),e.YNc(55,y,11,14,"div",31),e.qZA()(),e.TgZ(56,"div",7)(57,"div",20)(58,"h4",21),e._uU(59,"Newsletter"),e.qZA()(),e.TgZ(60,"div",32)(61,"p"),e._uU(62,"Aliqu justo et labore at eirmod justo sea erat diam dolor diam vero kasd"),e.qZA(),e.TgZ(63,"div",33),e._UZ(64,"input",34),e.TgZ(65,"div",35)(66,"button",36),e._uU(67,"Sign Up"),e.qZA()()(),e.TgZ(68,"small"),e._uU(69,"Lorem ipsum dolor sit amet elit"),e.qZA()()(),e.TgZ(70,"div",7)(71,"div",20)(72,"h4",21),e._uU(73,"Tags"),e.qZA()(),e.TgZ(74,"div",30)(75,"div",37)(76,"a",38),e._uU(77,"Politics"),e.qZA(),e.TgZ(78,"a",38),e._uU(79,"Business"),e.qZA(),e.TgZ(80,"a",38),e._uU(81,"Corporate"),e.qZA(),e.TgZ(82,"a",38),e._uU(83,"Business"),e.qZA(),e.TgZ(84,"a",38),e._uU(85,"Health"),e.qZA(),e.TgZ(86,"a",38),e._uU(87,"Education"),e.qZA(),e.TgZ(88,"a",38),e._uU(89,"Science"),e.qZA(),e.TgZ(90,"a",38),e._uU(91,"Business"),e.qZA(),e.TgZ(92,"a",38),e._uU(93,"Foods"),e.qZA(),e.TgZ(94,"a",38),e._uU(95,"Travel"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw();e.xp6(10),e.Oqu(e.xi3(11,14,t.Postname.createdOn,"dd MMMM yyyy")),e.xp6(2),e.s9C("src",t.Postname.summary,e.LSH),e.xp6(2),e.Oqu(t.Postname.title),e.xp6(1),e.Q6J("innerHTML",t.Postname.content,e.oJD),e.xp6(5),e.Oqu(t.Postname.createdBy),e.xp6(4),e.Q6J("ngStyle",e.VKq(17,f,t.like?"blue":null)),e.xp6(1),e.hij(" ",t.Postname.likeCount,""),e.xp6(3),e.Q6J("ngStyle",e.VKq(19,f,t.Dislike?"red":null)),e.xp6(1),e.Oqu(t.Postname.dislikeCout),e.xp6(4),e.hij("",t.Postname.commentModels.length," Comments"),e.xp6(2),e.Q6J("ngForOf",t.Postname.commentModels),e.xp6(6),e.Q6J("formGroup",t.Reactivefrom),e.xp6(6),e.Q6J("disabled",!t.Reactivefrom.valid),e.xp6(8),e.Q6J("ngForOf",t.AllPost)}}let q=(()=>{class i{constructor(t,o,s,a,c,J){this._fb=t,this.LoveStory=o,this.AuthService=s,this.router=a,this.activateRoute=c,this.Utility=J,this.DisplaySpinner=!0,this.like=!1,this.Dislike=!1,this.likedislikepost=new k,this.AllPost=[]}ngOnInit(){this.AuthService.isAuthenticated()&&(this.userRole=this.AuthService.role,null!=this.userRole&&(this.GetUserDetails(),this.username=this.AuthService.name,this.GetUserDetail(this.username),this.Role=this.AuthService.role,this.Reactivefrom=this._fb.group({id:[null],content:[null,[r.kI.required]],published:[null],createdOn:[null],createdBy:[null],updatedOn:[null],updatedBy:[null],publishedAt:[null],userId:[null],postId:[null]})),this.LoveStory.GetAllPost().subscribe(t=>{this.AllPost=t.data.slice(0,5)})),this.idvalue=this.activateRoute.snapshot.paramMap.get("Id"),this.LoveStory.GetPostId(this.idvalue).subscribe(t=>{this.Postname=t,console.log(this.Postname),null!=this.Postname&&(this.like=1==this.Postname.likeDislikeModels.find(o=>o.userId==this.Userdetails.userId&&o.postId==this.idvalue)?.likePost,this.Dislike=1==this.Postname.likeDislikeModels.find(o=>o.userId==this.Userdetails.userId&&o.postId==this.idvalue)?.dislikePost,this.DisplaySpinner=!1)})}GetUserDetails(){this.AuthService.userDetailFromToken()}GetUserDetail(t){this.AuthService.GetUserDetails(t).subscribe(o=>{this.Userdetails=o.data})}CommentButtonClick(){if(this.Reactivefrom.valid){const o=(new Date).toISOString();let s=Object.assign({},this.Reactivefrom.value);s.userId=this.Userdetails.userId,s.postId=this.idvalue,s.id=0,s.published=!0,s.publishedAt=o,s.updatedOn=o,s.createdOn=o,s.updatedBy=this.Userdetails.firstName+" "+this.Userdetails.lastName,s.createdBy=this.Userdetails.firstName+" "+this.Userdetails.lastName,console.log(s),this.LoveStory.InsertComment(s).subscribe(a=>{1==a.success&&this.LoveStory.GetPostId(this.idvalue).subscribe(c=>{this.Postname=c,null!=this.Postname&&(this.DisplaySpinner=!1)})})}}LikeButtonClick(){this.like=!this.like,this.Dislike=!1,this.likedislikepost.userId=this.Userdetails?.userId,this.likedislikepost.postId=this.idvalue,this.likedislikepost.likePost=this.like,this.likedislikepost.dislikePost=this.Dislike,this.LoveStory.InsertLikeDislike(this.likedislikepost).subscribe(t=>{1==t.success&&this.LoveStory.GetPostId(this.idvalue).subscribe(o=>{this.Postname=o,null!=this.Postname&&(this.DisplaySpinner=!1)})})}DisLikeButtonClick(){this.Dislike=!this.Dislike,this.like=!1,this.likedislikepost.userId=this.Userdetails?.userId,this.likedislikepost.postId=this.idvalue,this.likedislikepost.likePost=this.like,this.likedislikepost.dislikePost=this.Dislike,this.LoveStory.InsertLikeDislike(this.likedislikepost).subscribe(t=>{1==t.success&&this.LoveStory.GetPostId(this.idvalue).subscribe(o=>{this.Postname=o,null!=this.Postname&&(this.DisplaySpinner=!1)})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(m.x),e.Y36(g.e),e.Y36(d.F0),e.Y36(d.gz),e.Y36(h.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-blog-single-page"]],decls:1,vars:1,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"position-relative","mb-3"],[1,"bg-white","border","border-top-0","p-4"],[1,"mb-3"],["href","",1,"badge","badge-primary","text-uppercase","font-weight-semi-bold","p-2","mr-2"],["href","",1,"text-body"],[1,"img-thumbnail",3,"src"],[1,"mb-3","text-secondary","text-uppercase","font-weight-bold"],[3,"innerHTML"],[1,"d-flex","justify-content-between","bg-white","border","border-top-0","p-4"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fa","fa-user","rounded-circle","mr-2",2,"font-size","30px"],[1,"ml-3"],[3,"click"],[1,"far","fa-thumbs-up","mr-2",3,"ngStyle"],[1,"far","fa-thumbs-down","mr-2",3,"ngStyle"],[1,"section-title","mb-0"],[1,"m-0","text-uppercase","font-weight-bold"],["class","media mb-4",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"form-group"],["for","message"],["id","message","cols","30","rows","5","formControlName","content",1,"form-control"],[1,"form-group","mb-0"],["type","submit",1,"btn","btn-primary","font-weight-semi-bold","py-2","px-3",3,"disabled","click"],[1,"col-lg-4"],[1,"bg-white","border","border-top-0","p-3"],["class","d-flex align-items-center bg-white mb-3","style","height: 110px;",4,"ngFor","ngForOf"],[1,"bg-white","text-center","border","border-top-0","p-3"],[1,"input-group","mb-2",2,"width","100%"],["type","text","placeholder","Your Email",1,"form-control","form-control-lg"],[1,"input-group-append"],[1,"btn","btn-primary","font-weight-bold","px-3"],[1,"d-flex","flex-wrap","m-n1"],["href","",1,"btn","btn-sm","btn-outline-secondary","m-1"],[1,"media","mb-4"],[1,"media-body"],["href","",1,"text-secondary","font-weight-bold"],[1,"btn","btn-sm","btn-outline-secondary"],[1,"d-flex","align-items-center","bg-white","mb-3",2,"height","110px"],[1,"w-100","h-100","px-3","d-flex","flex-column","justify-content-center","border","border-left-0"],[1,"mb-2"],[1,"badge","badge-primary","text-uppercase","font-weight-semi-bold","p-1","mr-2",3,"routerLink"],[1,"text-body",3,"routerLink"],[1,"h6","m-0","text-secondary","text-uppercase","font-weight-bold","OverFlowchar",3,"routerLink"]],template:function(t,o){1&t&&e.YNc(0,C,96,21,"div",0),2&t&&e.Q6J("ngIf",!o.DisplaySpinner)},dependencies:[u.sg,u.O5,u.PC,d.rH,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.uU]}),i})();var Z=n(7375);function S(i,l){1&i&&(e.TgZ(0,"div",18),e._uU(1," Please Enter title "),e.qZA())}function x(i,l){1&i&&(e.TgZ(0,"div",18),e._uU(1," Please Enter Correct Title . "),e.qZA())}function B(i,l){1&i&&(e.TgZ(0,"div",18),e._uU(1," Please Enter Meta Title "),e.qZA())}function P(i,l){1&i&&(e.TgZ(0,"div",18),e._uU(1," Please Enter Correct Title . "),e.qZA())}const b=function(i,l){return{"is-valid":i,"form-control":!0,"is-invalid":l}},L=[{path:"",component:U},{path:"BlogSinglePage/:Id",component:q},{path:"Blogwrite",component:(()=>{class i{constructor(t,o,s,a,c){this._fb=t,this.LoveStory=o,this.AuthService=s,this.router=a,this.utilityService=c,this.x="",this.config={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",placeholder:"Enter text here...",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial"}}ngOnInit(){this.AuthService.isAuthenticated()&&(this.userRole=this.AuthService.role,null!=this.userRole&&(this.GetUserDetails(),this.username=this.AuthService.name,this.GetUserDetail(this.username),this.Role=this.AuthService.role,this.Reactivefrom=this._fb.group({id:[null],parentId:[null],title:[null,[r.kI.required]],metaTitle:[null,[r.kI.required]],slug:[null],likeCount:[null],dislikeCout:[null],summary:["",[r.kI.required]],published:!0,createdOn:[null],createdBy:[null],updatedOn:[null],updatedBy:[null],publishedAt:[null],content:[null,[r.kI.required]],userId:[null]})))}GetUserDetails(){this.AuthService.userDetailFromToken()}GetUserDetail(t){this.AuthService.GetUserDetails(t).subscribe(o=>{this.Userdetails=o.data})}onFileChange(t){const o=new FileReader;if(t.target.files&&t.target.files.length){const[s]=t.target.files;o.readAsDataURL(s),o.onload=()=>{this.imageSrc=this.imageSrcLogo=o.result,console.log(this.imageSrcLogo),this.Reactivefrom.patchValue({fileSource:this.imageSrcLogo})}}}PostButtonClick(){if(this.Reactivefrom.valid){console.log(this.Reactivefrom.value);let t=Object.assign({},this.Reactivefrom.value);t.userId=this.Userdetails.userId,t.summary=this.imageSrc,t.createdBy=this.Userdetails.firstName+" "+this.Userdetails.lastName,console.log(t),this.LoveStory.InsertPost(t).subscribe(o=>{console.log(o),1==o.success&&this.router.navigate(["/"])})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(m.x),e.Y36(g.e),e.Y36(d.F0),e.Y36(h.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-blog"]],decls:38,vars:16,consts:[[1,"container"],[1,"row","mb-3"],[1,"col-12"],[1,"card"],[1,"card-body","my-3"],[3,"formGroup"],[1,"row","py-2"],[1,"col-md-12"],["for","validationCustom03",1,"form-label"],["formControlName","summary","id","file","type","file",1,"form-control",3,"change"],["for","validationCustomUsername",1,"form-label"],[1,"input-group","has-validation"],["id","inputGroupPrepend",1,"input-group-text"],["type","text","id","validationCustomUsername","formControlName","title",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","id","validationCustomUsername","formControlName","metaTitle",1,"form-control",3,"ngClass"],["formControlName","content",3,"config"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled","click"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5)(6,"div",6)(7,"div",7)(8,"label",8),e._uU(9,"Blog logo"),e.qZA(),e.TgZ(10,"input",9),e.NdJ("change",function(a){return o.onFileChange(a)}),e.qZA()(),e.TgZ(11,"div",7)(12,"label",10),e._uU(13,"Title"),e.qZA(),e.TgZ(14,"div",11)(15,"span",12),e._uU(16,"*"),e.qZA(),e._UZ(17,"input",13),e.YNc(18,S,2,0,"div",14),e.YNc(19,x,2,0,"div",14),e.qZA()(),e.TgZ(20,"div",7)(21,"label",10),e._uU(22,"Meta Title"),e.qZA(),e.TgZ(23,"div",11)(24,"span",12),e._uU(25,"*"),e.qZA(),e._UZ(26,"input",15),e.YNc(27,B,2,0,"div",14),e.YNc(28,P,2,0,"div",14),e.qZA()()(),e.TgZ(29,"div",6)(30,"div",7)(31,"label",8),e._uU(32,"Post"),e.qZA(),e._UZ(33,"angular-editor",16),e.qZA()(),e.TgZ(34,"div",2)(35,"button",17),e.NdJ("click",function(){return o.PostButtonClick()}),e._uU(36,"Post"),e.qZA()()()()()()()(),e._uU(37)),2&t&&(e.xp6(5),e.Q6J("formGroup",o.Reactivefrom),e.xp6(12),e.Q6J("ngClass",e.WLB(10,b,o.Reactivefrom.controls.title.valid,!o.Reactivefrom.controls.title.valid&&o.Reactivefrom.controls.title.touched)),e.xp6(1),e.Q6J("ngIf",null==o.Reactivefrom.controls.title.errors?null:o.Reactivefrom.controls.title.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.Reactivefrom.controls.title.errors?null:o.Reactivefrom.controls.title.errors.title),e.xp6(7),e.Q6J("ngClass",e.WLB(13,b,o.Reactivefrom.controls.metaTitle.valid,!o.Reactivefrom.controls.metaTitle.valid&&o.Reactivefrom.controls.metaTitle.touched)),e.xp6(1),e.Q6J("ngIf",null==o.Reactivefrom.controls.metaTitle.errors?null:o.Reactivefrom.controls.metaTitle.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.Reactivefrom.controls.metaTitle.errors?null:o.Reactivefrom.controls.metaTitle.errors.metaTitle),e.xp6(5),e.Q6J("config",o.config),e.xp6(2),e.Q6J("disabled",!o.Reactivefrom.valid),e.xp6(2),e.hij(" ",o.x,""))},dependencies:[u.mk,u.O5,Z.s6,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),i})()}];let I=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(L),d.Bz]}),i})();var R=n(529);let D=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,I,R.JF,Z.UM,r.UX]}),i})()}}]);